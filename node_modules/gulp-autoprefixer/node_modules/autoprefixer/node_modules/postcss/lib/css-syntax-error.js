// Error while CSS parsing
var CssSyntaxError = (function(super$0){var DP$0 = Object.defineProperty;var MIXIN$0 = function(t,s){for(var p in s){if(s.hasOwnProperty(p)){DP$0(t,p,Object.getOwnPropertyDescriptor(s,p));}}return t};"use strict";MIXIN$0(CssSyntaxError, super$0);
    function CssSyntaxError(text, source, pos, file) {
        this.file     = file;
        this.line     = pos.line;
        this.column   = pos.column;
        this.source   = source;
        this.message  = "Can't parse CSS: " + text;
        this.message += ' at line ' + pos.line + ':' + pos.column;
        if ( file ) this.message += ' in ' + file;
    }CssSyntaxError.prototype = Object.create(super$0.prototype, {"constructor": {"value": CssSyntaxError, "configurable": true, "writable": true} });DP$0(CssSyntaxError, "prototype", {"configurable": false, "enumerable": false, "writable": false});

    CssSyntaxError.prototype.highlight = function(color) {
        var num   = this.line - 1;
        var lines = this.source.split('\n');

        var prev   = num > 0 ? lines[num - 1] + '\n' : '';
        var broken = lines[num];
        var next   = num < lines.length - 1 ? '\n' + lines[num + 1] : '';

        var mark = '\n';
        for ( var i = 0; i < this.column - 1; i++ ) {
            mark += ' ';
        }

        if ( typeof(color) == 'undefined' && typeof(process) != 'undefined' ) {
            if ( process.stdout && process.env ) {
                color = process.stdout.isTTY &&
                       !process.env.NODE_DISABLE_COLORS;
            }
        }

        if ( color ) {
            mark += "\x1B[1;31m^\x1B[0m";
        } else {
            mark += '^';
        }

        return prev + broken + mark + next;
    }

    CssSyntaxError.prototype.toString = function() {
        return this.message + "\n" + this.highlight();
    }
;return CssSyntaxError;})(Error);

module.exports = CssSyntaxError;
